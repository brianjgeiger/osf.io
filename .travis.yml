# Config file for automatic testing at travis-ci.org

language: python
services:
    - mongodb
    - elasticsearch

python:
    - "2.7"

before_install:
    - wget https://download.elasticsearch.org/elasticsearch/elasticsearch/elasticsearch-1.2.1.deb && sudo dpkg -i elasticsearch-1.2.1.deb && sudo service elasticsearch restart

install:
    - cp website/settings/local-travis.py website/settings/local.py
    - travis_retry pip install invoke==0.8.1
    - travis_retry invoke travis_addon_settings
    - travis_retry invoke requirements
    - travis_retry invoke addon_requirements
    - travis_retry invoke encryption
    - npm install -g bower
    - bower install

script: invoke test_all
